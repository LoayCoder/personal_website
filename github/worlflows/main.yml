name: Main
on:
  pull_request:
    branchs:
      -master

jops:
  hosting:
    name: Deploy Website
    runs-on: ubuntu-latest
  flutter_test:
    name: Run flutter test and analyze
    runs-on: ubuntu-latest
    steps:
      - uses: actions/chechout@vs
      - uses: actions/setup-java@v1
        with:
          java-version:"12.x"
      - uses: subosito/flutter-action@v1
        with:
          channel: "dev"
      - name: Build Website
        - run:
               config --enable-web
               flutter pub get
               flutter build web --release
        - working-directory: ./
      - name: Deploy Firebase Hosting
        uses: w9jds/firebase-action@master
        with:
          args: deploy --only hosting:mywebsite-6aaa9
          env:
            FIREBASE_TOKEN: ${{secrets.FIREBASE_TOKEN}}
            PROJECT_PATH: ./



      - run: flutter analyze
      - run: flutter test
